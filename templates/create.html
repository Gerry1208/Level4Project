{% extends 'base.html' %}

{% load staticfiles %}

{%  block title %} Create a card {% endblock %}

{% block body_block %}
    <div id="page">
        <div id=dropzone">
        <form action="/names/create/" class="dropzone needsclick dz-clickable" id="Drag and Drop pictures">
            {% csrf_token %}
        </form>
        </div>
        <div class="divider"></div>
        <div id="information",align="right" >
        <form id="card_form" method="post" action="/names/create/"
                enctype="multipart/form-data">

            {% csrf_token %}

            {{ card_form.as_p }}
            {{ group_form.as_p }}

             <input type="submit" name="submit" value="Submit" />
        </form>
        </div>
        <script type="text/javascript">
            Dropzone.options.myDropzone = {

                // Prevents Dropzone from uploading dropped files immediately
                autoProcessQueue : false,

                init : function() {
                    var submitButton = document.querySelector("#submit-all")
                    myDropzone = this;

                    submitButton.addEventListener("click", function() {
                        myDropzone.processQueue();
                        // Tell Dropzone to process all queued files.
                    });

                    // You might want to show the submit button only when
                    // files are dropped here:
                    this.on("addedfile", function() {
                        // Show submit button here and/or inform user to click it.
                    });

                }
            };
        </script>
    </div>

{% endblock %}